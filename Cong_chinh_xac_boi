// #include<stdio.h>
// #include<math.h>

// int w,t,a[50],b[50],c[50];

// int nhap(){
	
// 	printf("nhap w: ");
// 	 scanf("%d",&w);
// 	printf("nhap t: ");
// 	 scanf("%d",&t);	
// 	printf("\nCac Phan tu cua a: ");
// 	for(int i=0;i<4;i++){
// 		scanf("%d",&a[i]);
// 			printf("%d, ",a[i]);
// 	}

// 	printf("\nCac Phan tu cua b: ");
// 	for(int i=0;i<4;i++){
// 		scanf("%d",&b[i]);
// 		printf("%d, ",b[i]);
// 	}
// }

// void tinh(){
// 	int e=0,i; // epsilo
// 	int tmp = pow (2,w);	
// 	for( i=t-1;i>=0;i--){
		
// 		c[i]=a[i]+b[i]+e;
// 		if( c[i] > tmp ){
// 			c[i]= c[i]-tmp;
// 			e=1;
// 		printf("\n Voi i= %d thi c=%d, e=%d",(t-1)-i,c[i],e);
		
// 		}
// 		else{
// 			e=0;
// 			printf("\n Voi i= %d thi c= %d, e=%d",(t-1)-i,c[i],e);
		
// 		}
// 	}	
// }

// int main(){
// 	nhap();
// 	tinh();
	

#include<stdio.h>
#include<math.h>

int m,p,t,w,a,b,tmp;
int arrA[50],arrB[50],c[50];

void nhap(){
	printf("Nhap W: ");
	scanf("%d",&w);
	printf("Nhap p: ");
	scanf("%d",&p);
	printf("Nhap a: ");
	scanf("%d",&a);
	printf("Nhap b: ");
	scanf("%d",&b);
}

int bieuDien(){
	int j=0,h=0;
	m= log(p)/log(2)+1;
	t= (m/w) + 1;
	for(int i=t-1;i>=0;i--){
		tmp= a / pow(2,i*w);
		a = a- (tmp*pow(2,i*w)); 
		//printf("\nHe so A[%d]: %d",i,tmp);
		arrA[j]=tmp;
		j++;
		
	}
	for(int i=t-1;i>=0;i--){
		tmp= b / pow(2,i*w);
		b = b- (tmp*pow(2,i*w)); 
		// printf("\nHe so A[%d]: %d",i,tmp);
		arrB[h]=tmp;
		h++;
		
	}
	
}

void tinhTong(){

int e=0,i; // epsilo
	int tmp = pow (2,w);	
	for( i=t-1;i>=0;i--){
		
		c[i]=arrA[i]+arrB[i]+e;
		if( c[i] > tmp ){
			c[i]= c[i]-tmp;
			e=1;
		printf("\n Voi i= %d thi c=%d, e=%d",(t-1)-i,c[i],e);
		
		}
		else{
			e=0;
			printf("\n Voi i= %d thi c= %d, e=%d",(t-1)-i,c[i],e);
		
		}
	}	
}
int main()
{
	nhap();
	bieuDien();
	tinhTong();
}	
